@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  /* Chrome, Safari and Opera */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  /* Text gradient utilities */
  .text-gradient-primary {
    background: linear-gradient(
      to right,
      hsl(var(--primary)),
      hsl(var(--accent))
    );
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .text-gradient-primary-diagonal {
    background: linear-gradient(
      135deg,
      hsl(var(--primary)),
      hsl(var(--accent))
    );
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Glow effects */
  .glow-primary {
    box-shadow: 0 0 20px hsl(var(--primary) / 0.3);
  }

  .glow-success {
    box-shadow: 0 0 20px hsl(var(--success) / 0.3);
  }

  /* Code editor styles */
  .code-editor {
    font-family: 'JetBrains Mono', monospace;
  }

  /* Full-width container that breaks out of parent constraints */
  .full-bleed {
    width: 100vw;
    margin-left: calc(-50vw + 50%);
  }

  /* Resizable panel handle */
  .resize-handle {
    @apply w-1 cursor-col-resize bg-transparent hover:bg-violet-500/50 active:bg-violet-500 transition-colors;
  }

  .resize-handle::after {
    content: '';
    @apply absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-1 h-8 rounded-full bg-zinc-600;
  }

  .resize-handle:hover::after {
    @apply bg-violet-400;
  }

  /* Problem page specific */
  .problem-panel {
    @apply h-full overflow-hidden flex flex-col;
  }

  /* Tab styles */
  .tab-active {
    @apply text-white border-b-2 border-violet-500;
  }

  .tab-inactive {
    @apply text-zinc-500 hover:text-zinc-300 border-b-2 border-transparent;
  }

  /* Difficulty badges */
  .badge-easy {
    @apply bg-emerald-500/10 text-emerald-400 border border-emerald-500/20;
  }

  .badge-medium {
    @apply bg-amber-500/10 text-amber-400 border border-amber-500/20;
  }

  .badge-hard {
    @apply bg-red-500/10 text-red-400 border border-red-500/20;
  }

  /* Status indicators */
  .status-solved {
    @apply text-emerald-400;
  }

  .status-attempted {
    @apply text-amber-400;
  }

  .status-not-started {
    @apply text-zinc-500;
  }

  /* Card hover effect */
  .card-hover {
    @apply transition-all duration-200 hover:border-violet-500/30 hover:bg-zinc-800/80;
  }

  /* Gradient text animation */
  .gradient-text-animated {
    background: linear-gradient(
      90deg,
      hsl(var(--primary)),
      hsl(var(--accent)),
      hsl(var(--primary))
    );
    background-size: 200% auto;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: gradient-shift 3s ease infinite;
  }

  @keyframes gradient-shift {
    0%, 100% { background-position: 0% center; }
    50% { background-position: 100% center; }
  }
}

/* ApexCharts dark theme overrides */
.apexcharts-legend-text {
  @apply !text-muted-foreground;
}
.apexcharts-text {
  @apply !fill-muted-foreground;
}
.apexcharts-xcrosshairs {
  @apply !fill-border;
}
.apexcharts-gridline {
  @apply !stroke-border;
}
.apexcharts-series.apexcharts-pie-series path {
  @apply !stroke-transparent;
}
.apexcharts-legend-series {
  @apply !inline-flex gap-1.5;
}
.apexcharts-tooltip.apexcharts-theme-light {
  @apply !bg-card !border-border;
}
.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
  @apply !bg-muted !border-border;
}
.apexcharts-xaxistooltip,
.apexcharts-yaxistooltip {
  @apply !bg-muted !border-muted !text-muted-foreground;
}
.apexcharts-xaxistooltip-bottom:after {
  @apply !border-b-muted;
}
.apexcharts-xaxistooltip-bottom:before {
  @apply !border-b-muted;
}

@layer base {
  /* AlgoForge Design System - Dark Mode First */
  :root {
    /* Dark mode is default */
    --background: 240 10% 4%;
    --foreground: 0 0% 95%;

    --card: 240 10% 6%;
    --card-foreground: 0 0% 95%;
    --card-accent: 240 10% 8%;
    --card-accent-foreground: 0 0% 95%;
    --card-subtle: 240 10% 10%;
    --card-subtle-foreground: 0 0% 95%;

    --popover: 240 10% 6%;
    --popover-foreground: 0 0% 95%;

    /* Primary - Electric Violet */
    --primary: 262 83% 58%;
    --primary-foreground: 0 0% 100%;

    /* Secondary - Slate */
    --secondary: 240 5% 15%;
    --secondary-foreground: 0 0% 95%;
    --secondary-muted: 240 5% 20%;
    --secondary-muted-foreground: 0 0% 80%;

    --muted: 240 5% 15%;
    --muted-foreground: 0 0% 64%;

    /* Accent - Cyan */
    --accent: 192 91% 36%;
    --accent-foreground: 0 0% 100%;

    /* Status Colors */
    --success: 160 84% 39%;
    --success-foreground: 0 0% 100%;
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 0%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 98%;

    /* Difficulty Colors */
    --easy: 160 84% 39%;
    --medium: 38 92% 50%;
    --hard: 0 84% 60%;

    /* Border & Input */
    --border: 240 5% 15%;
    --input: 240 5% 15%;
    --ring: 262 83% 58%;

    --radius: 0.75rem;
  }

  /* Light mode override (optional, for users who prefer it) */
  .light {
    --background: 0 0% 100%;
    --foreground: 240 10% 4%;

    --card: 0 0% 100%;
    --card-foreground: 240 10% 4%;
    --card-accent: 240 5% 96%;
    --card-accent-foreground: 240 10% 4%;
    --card-subtle: 240 5% 96%;
    --card-subtle-foreground: 240 10% 4%;

    --popover: 0 0% 100%;
    --popover-foreground: 240 10% 4%;

    --primary: 262 83% 58%;
    --primary-foreground: 0 0% 100%;

    --secondary: 240 5% 96%;
    --secondary-foreground: 240 10% 4%;
    --secondary-muted: 240 5% 90%;
    --secondary-muted-foreground: 240 10% 30%;

    --muted: 240 5% 96%;
    --muted-foreground: 240 5% 46%;

    --accent: 192 91% 36%;
    --accent-foreground: 0 0% 100%;

    --success: 160 84% 39%;
    --success-foreground: 0 0% 100%;
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 0%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 98%;

    --border: 240 5% 90%;
    --input: 240 5% 90%;
    --ring: 262 83% 58%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: 'Plus Jakarta Sans', sans-serif;
  }

  code, pre, .font-mono {
    font-family: 'JetBrains Mono', monospace;
  }
}

/* Custom scrollbar for dark theme */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: hsl(var(--background));
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--border));
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground) / 0.5);
}
